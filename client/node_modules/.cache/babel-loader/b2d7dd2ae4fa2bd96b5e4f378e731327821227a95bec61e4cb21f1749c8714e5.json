{"ast":null,"code":"var _jsxFileName = \"/home/jerzy/Documents/david/react-rewards-app/src/components/features/AddPointsWidget/AddPointsWidget.js\",\n  _s = $RefreshSig$();\n// styles\nimport AddPointsButton from '../../common/AddPointsButton/AddPointsButton';\nimport SubmitButton from '../../common/SubmitButton/SubmitButton';\nimport TextInput from '../../common/TextInput/TextInput';\nimport styles from './AddPointsWidget.module.scss';\n// react\nimport { useState } from 'react';\n// redux\nimport { useSelector } from 'react-redux';\nimport { getAllPoints, changePointsRequest } from '../../../redux/pointsRedux';\nimport { getPassword } from '../../../redux/passwordRedux';\nimport { useDispatch } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddPointsWidget = _ref => {\n  _s();\n  let {\n    action\n  } = _ref;\n  const currentPoints = useSelector(getAllPoints);\n  const currentPassword = useSelector(getPassword);\n  const [newPoints, setNewPoints] = useState('');\n  const [inputPassword, setInputPassword] = useState('');\n  const [errorPassword, setErrorPassword] = useState(false);\n  const [errorPoints, setErrorPoints] = useState(false);\n  const dispatch = useDispatch();\n  const arrayRange = (start, stop, step) => Array.from({\n    length: (stop - start) / step + 1\n  }, (value, index) => start + index * step);\n  const addPointsButtons = arrayRange(5, 25, 5);\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (newPoints) {\n      const pointsObj = {\n        id: '1',\n        value: `${newPoints}`\n      };\n      if (inputPassword === currentPassword) {\n        dispatch(changePointsRequest(pointsObj));\n        setInputPassword('');\n        setNewPoints('');\n        setErrorPassword(false);\n        setErrorPoints(false);\n        action();\n      } else {\n        setErrorPassword(true);\n      }\n    } else {\n      setErrorPoints(true);\n    }\n  };\n  const handleAddButtonClick = points => {\n    const newValue = parseInt(currentPoints) + points;\n    setNewPoints(newValue);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: styles.AddPointsWidget,\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Dodaj punkty lub wpisz ich now\\u0105 warto\\u015B\\u0107\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.buttonRow,\n      children: addPointsButtons.map((button, index) => {\n        return /*#__PURE__*/_jsxDEV(AddPointsButton, {\n          action: handleAddButtonClick,\n          children: button\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n      type: 'number',\n      placeholder: currentPoints,\n      value: newPoints,\n      onChange: e => setNewPoints(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), errorPoints && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: styles.error,\n      children: \"Nowa ilo\\u015B\\u0107 punkt\\xF3w nie mo\\u017Ce by\\u0107 pusta\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Podaj has\\u0142o do zmiany\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n      type: 'text',\n      value: inputPassword,\n      onChange: e => setInputPassword(e.target.value),\n      password: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), errorPassword && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: styles.error,\n      children: \"Wprowad\\u017A poprawne has\\u0142o\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n      children: 'Zmień punkty'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(AddPointsWidget, \"fRm2dMUSxgTCp8/Td8j26j8QfM4=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n_c = AddPointsWidget;\nexport default AddPointsWidget;\nvar _c;\n$RefreshReg$(_c, \"AddPointsWidget\");","map":{"version":3,"names":["AddPointsButton","SubmitButton","TextInput","styles","useState","useSelector","getAllPoints","changePointsRequest","getPassword","useDispatch","jsxDEV","_jsxDEV","AddPointsWidget","_ref","_s","action","currentPoints","currentPassword","newPoints","setNewPoints","inputPassword","setInputPassword","errorPassword","setErrorPassword","errorPoints","setErrorPoints","dispatch","arrayRange","start","stop","step","Array","from","length","value","index","addPointsButtons","handleSubmit","e","preventDefault","pointsObj","id","handleAddButtonClick","points","newValue","parseInt","className","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","buttonRow","map","button","type","placeholder","onChange","target","error","password","_c","$RefreshReg$"],"sources":["/home/jerzy/Documents/david/react-rewards-app/src/components/features/AddPointsWidget/AddPointsWidget.js"],"sourcesContent":["// styles\nimport AddPointsButton from '../../common/AddPointsButton/AddPointsButton';\nimport SubmitButton from '../../common/SubmitButton/SubmitButton';\nimport TextInput from '../../common/TextInput/TextInput';\nimport styles from './AddPointsWidget.module.scss';\n// react\nimport { useState } from 'react';\n// redux\nimport { useSelector } from 'react-redux';\nimport { getAllPoints, changePointsRequest } from '../../../redux/pointsRedux';\nimport { getPassword } from '../../../redux/passwordRedux';\nimport { useDispatch } from 'react-redux';\n\nconst AddPointsWidget = ({ action }) => {\n\n  const currentPoints = useSelector(getAllPoints);\n  const currentPassword = useSelector(getPassword);\n\n  const [newPoints, setNewPoints] = useState('');\n  const [inputPassword, setInputPassword] = useState('');\n  const [errorPassword, setErrorPassword] = useState(false);\n  const [errorPoints, setErrorPoints] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const arrayRange = (start, stop, step) =>\n    Array.from(\n      { length: (stop - start) / step + 1 },\n      (value, index) => start + index * step);\n\n  const addPointsButtons = arrayRange(5, 25, 5);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (newPoints) {\n\n      const pointsObj = {\n        id: '1',\n        value: `${newPoints}`,\n      }\n\n      if (inputPassword === currentPassword) {\n        dispatch(changePointsRequest(pointsObj));\n        setInputPassword('');\n        setNewPoints('');\n        setErrorPassword(false);\n        setErrorPoints(false);\n        action();\n      } else {\n        setErrorPassword(true);\n      }\n    } else {\n      setErrorPoints(true);\n    }\n  };\n\n  const handleAddButtonClick = (points) => {\n    const newValue = parseInt(currentPoints) + points;\n    setNewPoints(newValue);\n  }\n\n  return (\n    <form className={ styles.AddPointsWidget } onSubmit={ handleSubmit }>\n      <label>Dodaj punkty lub wpisz ich nową wartość</label>\n      <div className={ styles.buttonRow }>\n        {\n          addPointsButtons.map(\n            (button, index) => {\n              return (\n                <AddPointsButton key={ index } action={handleAddButtonClick}>\n                  { button }\n                </AddPointsButton>\n              );\n            } \n          )\n        }\n      </div>\n      <TextInput type={ 'number' } placeholder={ currentPoints } value={ newPoints } onChange={ e => setNewPoints(e.target.value) } />\n      { errorPoints && <span className={styles.error}>Nowa ilość punktów nie może być pusta</span> }\n      <label>Podaj hasło do zmiany</label>\n      <TextInput type={ 'text' } value={ inputPassword } onChange={ e => setInputPassword(e.target.value) } password={true} />\n      { errorPassword && <span className={styles.error}>Wprowadź poprawne hasło</span> }\n      <SubmitButton>\n        { 'Zmień punkty' }\n      </SubmitButton>\n    </form>\n  );\n\n};\n\nexport default AddPointsWidget;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}